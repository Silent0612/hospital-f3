{"version":3,"file":"js/54.8ec55763.js","mappings":"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","sources":["webpack://hospital-web/./src/views/Appointment.vue","webpack://hospital-web/src/views/Appointment.vue","webpack://hospital-web/./src/views/Appointment.vue?25ed","webpack://hospital-web/./src/views/Appointment.vue?589d","webpack://hospital-web/./node_modules/core-js/internals/number-parse-int.js","webpack://hospital-web/./node_modules/core-js/modules/es.date.now.js","webpack://hospital-web/./node_modules/core-js/modules/es.date.to-string.js","webpack://hospital-web/./node_modules/core-js/modules/es.parse-int.js"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"appointment-container\"},[_c('div',{staticClass:\"page-header\"},[_c('el-page-header',{attrs:{\"content\":\"预约挂号\"},on:{\"back\":function($event){return _vm.$router.go(-1)}}})],1),_c('el-card',{staticClass:\"appointment-card\"},[_c('div',{staticClass:\"doctor-info\"},[_c('div',{staticClass:\"doctor-avatar\"},[(!_vm.doctorInfo.headimg)?_c('i',{staticClass:\"el-icon-user-solid\"}):_c('img',{attrs:{\"src\":_vm.doctorInfo.headimg,\"alt\":\"医生头像\"}})]),_c('div',{staticClass:\"info-content\"},[_c('h3',[_vm._v(_vm._s(_vm.doctorInfo.username))]),(_vm.doctorInfo.experience)?_c('p',[_vm._v(_vm._s(_vm.doctorInfo.experience))]):_vm._e(),(_vm.doctorInfo.comment)?_c('p',[_vm._v(_vm._s(_vm.doctorInfo.comment))]):_vm._e()])]),_c('el-form',{ref:\"appointmentForm\",staticClass:\"appointment-form\",attrs:{\"model\":_vm.appointmentForm,\"rules\":_vm.rules,\"label-width\":\"100px\"}},[_c('div',{staticClass:\"section-title\"},[_vm._v(\"患者信息\")]),_c('el-form-item',{attrs:{\"label\":\"姓名\",\"prop\":\"userName\"}},[_c('el-input',{attrs:{\"disabled\":\"\"},model:{value:(_vm.appointmentForm.userName),callback:function ($$v) {_vm.$set(_vm.appointmentForm, \"userName\", $$v)},expression:\"appointmentForm.userName\"}})],1),_c('el-form-item',{attrs:{\"label\":\"性别\",\"prop\":\"userGender\"}},[_c('el-input',{attrs:{\"value\":_vm.appointmentForm.userGender === 1 ? '男' : '女',\"disabled\":\"\"}})],1),_c('el-form-item',{attrs:{\"label\":\"年龄\",\"prop\":\"userAge\"}},[_c('el-input',{attrs:{\"disabled\":\"\"},model:{value:(_vm.appointmentForm.userAge),callback:function ($$v) {_vm.$set(_vm.appointmentForm, \"userAge\", $$v)},expression:\"appointmentForm.userAge\"}})],1),_c('div',{staticClass:\"section-title\"},[_vm._v(\"预约信息\")]),_c('el-form-item',{attrs:{\"label\":\"就诊日期\",\"prop\":\"appointmentDate\"}},[_c('el-date-picker',{attrs:{\"type\":\"date\",\"placeholder\":\"选择就诊日期\",\"picker-options\":_vm.dateOptions},model:{value:(_vm.appointmentForm.appointmentDate),callback:function ($$v) {_vm.$set(_vm.appointmentForm, \"appointmentDate\", $$v)},expression:\"appointmentForm.appointmentDate\"}})],1),_c('el-form-item',{attrs:{\"label\":\"就诊时段\",\"prop\":\"timeSlot\"}},[_c('el-select',{attrs:{\"placeholder\":\"请选择就诊时段\"},model:{value:(_vm.appointmentForm.timeSlot),callback:function ($$v) {_vm.$set(_vm.appointmentForm, \"timeSlot\", $$v)},expression:\"appointmentForm.timeSlot\"}},_vm._l((_vm.timeSlots),function(slot){return _c('el-option',{key:slot.value,attrs:{\"label\":slot.label,\"value\":slot.value}})}),1)],1),_c('el-form-item',{attrs:{\"label\":\"就诊类型\",\"prop\":\"visitType\"}},[_c('el-radio-group',{model:{value:(_vm.appointmentForm.visitType),callback:function ($$v) {_vm.$set(_vm.appointmentForm, \"visitType\", $$v)},expression:\"appointmentForm.visitType\"}},[_c('el-radio',{attrs:{\"label\":1}},[_vm._v(\"初诊\")]),_c('el-radio',{attrs:{\"label\":2}},[_vm._v(\"复诊\")])],1)],1),_c('el-form-item',{attrs:{\"label\":\"病情描述\",\"prop\":\"description\"}},[_c('el-input',{attrs:{\"type\":\"textarea\",\"rows\":4,\"placeholder\":\"请简要描述您的病情\"},model:{value:(_vm.appointmentForm.description),callback:function ($$v) {_vm.$set(_vm.appointmentForm, \"description\", $$v)},expression:\"appointmentForm.description\"}})],1),_c('div',{staticClass:\"fee-info\"},[_c('span',{staticClass:\"fee-label\"},[_vm._v(\"挂号费用：\")]),_c('span',{staticClass:\"fee-amount\"},[_vm._v(\"￥\"+_vm._s(_vm.registrationFee))])]),_c('el-form-item',[_c('el-button',{staticClass:\"submit-btn\",attrs:{\"type\":\"primary\"},on:{\"click\":_vm.submitAppointment}},[_vm._v(\"确认预约并支付\")])],1)],1)],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"appointment-container\">\r\n    <div class=\"page-header\">\r\n      <el-page-header @back=\"$router.go(-1)\" content=\"预约挂号\"></el-page-header>\r\n    </div>\r\n    \r\n    <el-card class=\"appointment-card\">\r\n      <div class=\"doctor-info\">\r\n        <div class=\"doctor-avatar\">\r\n          <i v-if=\"!doctorInfo.headimg\" class=\"el-icon-user-solid\"></i>\r\n          <img v-else :src=\"doctorInfo.headimg\" alt=\"医生头像\">\r\n        </div>\r\n        <div class=\"info-content\">\r\n          <h3>{{ doctorInfo.username }}</h3>\r\n          <p v-if=\"doctorInfo.experience\">{{ doctorInfo.experience }}</p>\r\n          <p v-if=\"doctorInfo.comment\">{{ doctorInfo.comment }}</p>\r\n        </div>\r\n      </div>\r\n\r\n      <el-form :model=\"appointmentForm\" :rules=\"rules\" ref=\"appointmentForm\" label-width=\"100px\" class=\"appointment-form\">\r\n        <!-- 患者基本信息 -->\r\n        <div class=\"section-title\">患者信息</div>\r\n        <el-form-item label=\"姓名\" prop=\"userName\">\r\n          <el-input v-model=\"appointmentForm.userName\" disabled></el-input>\r\n        </el-form-item>\r\n\r\n        <el-form-item label=\"性别\" prop=\"userGender\">\r\n          <el-input :value=\"appointmentForm.userGender === 1 ? '男' : '女'\" disabled></el-input>\r\n        </el-form-item>\r\n\r\n        <el-form-item label=\"年龄\" prop=\"userAge\">\r\n          <el-input v-model=\"appointmentForm.userAge\" disabled></el-input>\r\n        </el-form-item>\r\n\r\n        <div class=\"section-title\">预约信息</div>\r\n        <el-form-item label=\"就诊日期\" prop=\"appointmentDate\">\r\n          <el-date-picker\r\n            v-model=\"appointmentForm.appointmentDate\"\r\n            type=\"date\"\r\n            placeholder=\"选择就诊日期\"\r\n            :picker-options=\"dateOptions\">\r\n          </el-date-picker>\r\n        </el-form-item>\r\n\r\n        <el-form-item label=\"就诊时段\" prop=\"timeSlot\">\r\n          <el-select v-model=\"appointmentForm.timeSlot\" placeholder=\"请选择就诊时段\">\r\n            <el-option\r\n              v-for=\"slot in timeSlots\"\r\n              :key=\"slot.value\"\r\n              :label=\"slot.label\"\r\n              :value=\"slot.value\">\r\n            </el-option>\r\n          </el-select>\r\n        </el-form-item>\r\n\r\n        <el-form-item label=\"就诊类型\" prop=\"visitType\">\r\n          <el-radio-group v-model=\"appointmentForm.visitType\">\r\n            <el-radio :label=\"1\">初诊</el-radio>\r\n            <el-radio :label=\"2\">复诊</el-radio>\r\n          </el-radio-group>\r\n        </el-form-item>\r\n\r\n        <el-form-item label=\"病情描述\" prop=\"description\">\r\n          <el-input\r\n            type=\"textarea\"\r\n            v-model=\"appointmentForm.description\"\r\n            :rows=\"4\"\r\n            placeholder=\"请简要描述您的病情\">\r\n          </el-input>\r\n        </el-form-item>\r\n\r\n        <div class=\"fee-info\">\r\n          <span class=\"fee-label\">挂号费用：</span>\r\n          <span class=\"fee-amount\">￥{{ registrationFee }}</span>\r\n        </div>\r\n\r\n        <el-form-item>\r\n          <el-button type=\"primary\" @click=\"submitAppointment\" class=\"submit-btn\">确认预约并支付</el-button>\r\n        </el-form-item>\r\n      </el-form>\r\n    </el-card>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: 'Appointment',\r\n  data() {\r\n    return {\r\n      doctorInfo: {},\r\n      appointmentForm: {\r\n        appointmentDate: '',\r\n        timeSlot: '',\r\n        visitType: 1,\r\n        description: '',\r\n        userName: '',\r\n        userGender: null,\r\n        userAge: null\r\n      },\r\n      rules: {\r\n        appointmentDate: [\r\n          { required: true, message: '请选择就诊日期', trigger: 'change' }\r\n        ],\r\n        timeSlot: [\r\n          { required: true, message: '请选择就诊时段', trigger: 'change' }\r\n        ],\r\n        visitType: [\r\n          { required: true, message: '请选择就诊类型', trigger: 'change' }\r\n        ],\r\n        description: [\r\n          { required: true, message: '请填写病情描述', trigger: 'blur' }\r\n        ]\r\n      },\r\n      timeSlots: [\r\n        { value: '1', label: '上午 8:00-10:00' },\r\n        { value: '2', label: '上午 10:00-12:00' },\r\n        { value: '3', label: '下午 14:00-16:00' },\r\n        { value: '4', label: '下午 16:00-18:00' }\r\n      ],\r\n      dateOptions: {\r\n        disabledDate(time) {\r\n          return time.getTime() < Date.now() - 8.64e7\r\n        }\r\n      },\r\n      registrationFee: 50\r\n    }\r\n  },\r\n  created() {\r\n    this.getDoctorInfo()\r\n    this.getUserInfo()\r\n  },\r\n  methods: {\r\n    async getDoctorInfo() {\r\n      try {\r\n        const { data } = await this.$http.get(`/api/empinfo/findById?id=${this.$route.params.doctorId}`)\r\n        if (data.code === 200) {\r\n          this.doctorInfo = data.data\r\n        } else {\r\n          this.$message.error(data.message)\r\n        }\r\n      } catch (error) {\r\n        this.$message.error('获取医生信息失败')\r\n      }\r\n    },\r\n\r\n    getUserInfo() {\r\n      try {\r\n        const userInfo = JSON.parse(localStorage.getItem('userInfo') || '{}')\r\n        if (!userInfo.id) {\r\n          this.$message.error('请先登录')\r\n          this.$router.push('/login')\r\n          return\r\n        }\r\n\r\n        // 从用户信息中获取基本信息\r\n        this.appointmentForm.userName = userInfo.username\r\n        this.appointmentForm.userGender = userInfo.gender\r\n        \r\n        // 计算年龄\r\n        if (userInfo.birthday) {\r\n          const birthDate = new Date(userInfo.birthday)\r\n          const today = new Date()\r\n          let age = today.getFullYear() - birthDate.getFullYear()\r\n          const monthDiff = today.getMonth() - birthDate.getMonth()\r\n          if (monthDiff < 0 || (monthDiff === 0 && today.getDate() < birthDate.getDate())) {\r\n            age--\r\n          }\r\n          this.appointmentForm.userAge = age\r\n        }\r\n      } catch (error) {\r\n        console.error('获取用户信息失败:', error)\r\n        this.$message.error('获取用户信息失败')\r\n      }\r\n    },\r\n\r\n    async submitAppointment() {\r\n      this.$refs.appointmentForm.validate(async valid => {\r\n        if (!valid) {\r\n          return\r\n        }\r\n\r\n        try {\r\n          const userInfo = JSON.parse(localStorage.getItem('userInfo') || '{}')\r\n          if (!userInfo.id) {\r\n            this.$message.error('请先登录')\r\n            this.$router.push('/login')\r\n            return\r\n          }\r\n\r\n          const appointmentData = {\r\n            doctorId: parseInt(this.$route.params.doctorId),\r\n            userId: parseInt(userInfo.id),\r\n            appointmentDate: this.appointmentForm.appointmentDate,\r\n            timeSlot: this.appointmentForm.timeSlot,\r\n            visitType: parseInt(this.appointmentForm.visitType),\r\n            description: this.appointmentForm.description,\r\n            fee: this.registrationFee,\r\n            userName: this.appointmentForm.userName,\r\n            userGender: this.appointmentForm.userGender,\r\n            userAge: this.appointmentForm.userAge\r\n          }\r\n\r\n          console.log('提交的预约数据:', appointmentData)\r\n          const response = await this.$http.post('/api/appointments', appointmentData)\r\n          \r\n          if (response.data && response.data.code === 200) {\r\n            this.$alert('预约成功！请按时就医。', '预约结果', {\r\n              confirmButtonText: '确定',\r\n              type: 'success',\r\n              callback: () => {\r\n                this.$router.push('/home/records')\r\n              }\r\n            })\r\n          } else {\r\n            this.$message.error(response.data?.message || '预约失败')\r\n          }\r\n        } catch (error) {\r\n          console.error('预约错误:', error)\r\n          this.$message.error('预约失败，请稍后重试')\r\n        }\r\n      })\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.appointment-container {\r\n  padding: 30px;\r\n  background-color: #f5f7fa;\r\n  min-height: 100vh;\r\n}\r\n\r\n.page-header {\r\n  margin-bottom: 30px;\r\n  background: white;\r\n  padding: 15px;\r\n  border-radius: 8px;\r\n  box-shadow: 0 2px 12px 0 rgba(0,0,0,0.05);\r\n}\r\n\r\n.appointment-card {\r\n  max-width: 800px;\r\n  margin: 0 auto;\r\n  border-radius: 12px;\r\n  box-shadow: 0 4px 16px rgba(0,0,0,0.08);\r\n  transition: all 0.3s ease;\r\n}\r\n\r\n.appointment-card:hover {\r\n  transform: translateY(-2px);\r\n  box-shadow: 0 6px 20px rgba(0,0,0,0.12);\r\n}\r\n\r\n.doctor-info {\r\n  display: flex;\r\n  align-items: center;\r\n  padding: 25px 0;\r\n  border-bottom: 1px solid #ebeef5;\r\n  margin-bottom: 25px;\r\n  background: #fafafa;\r\n  border-radius: 8px;\r\n  padding: 20px;\r\n}\r\n\r\n.doctor-avatar {\r\n  width: 120px;\r\n  height: 120px;\r\n  margin-right: 30px;\r\n  text-align: center;\r\n  border: 3px solid #fff;\r\n  border-radius: 50%;\r\n  box-shadow: 0 2px 12px 0 rgba(0,0,0,0.1);\r\n  overflow: hidden;\r\n}\r\n\r\n.doctor-avatar img {\r\n  width: 100%;\r\n  height: 100%;\r\n  border-radius: 50%;\r\n  object-fit: cover;\r\n  transition: transform 0.3s ease;\r\n}\r\n\r\n.doctor-avatar img:hover {\r\n  transform: scale(1.05);\r\n}\r\n\r\n.doctor-avatar i {\r\n  font-size: 80px;\r\n  color: #909399;\r\n  line-height: 120px;\r\n}\r\n\r\n.info-content h3 {\r\n  margin: 0 0 15px 0;\r\n  font-size: 24px;\r\n  color: #303133;\r\n  font-weight: 600;\r\n}\r\n\r\n.info-content p {\r\n  margin: 8px 0;\r\n  color: #606266;\r\n  font-size: 14px;\r\n  line-height: 1.6;\r\n}\r\n\r\n.section-title {\r\n  font-size: 18px;\r\n  font-weight: 600;\r\n  color: #303133;\r\n  margin: 30px 0 20px;\r\n  padding-bottom: 12px;\r\n  border-bottom: 2px solid #409EFF;\r\n  position: relative;\r\n}\r\n\r\n.section-title::after {\r\n  content: '';\r\n  position: absolute;\r\n  bottom: -2px;\r\n  left: 0;\r\n  width: 50px;\r\n  height: 2px;\r\n  background: #409EFF;\r\n}\r\n\r\n.appointment-form {\r\n  margin-top: 30px;\r\n  padding: 0 20px;\r\n}\r\n\r\n.appointment-form :deep(.el-form-item) {\r\n  margin-bottom: 25px;\r\n}\r\n\r\n.appointment-form :deep(.el-input__inner) {\r\n  border-radius: 8px;\r\n}\r\n\r\n.appointment-form :deep(.el-textarea__inner) {\r\n  border-radius: 8px;\r\n  min-height: 120px;\r\n}\r\n\r\n.fee-info {\r\n  margin: 30px 0;\r\n  padding: 20px;\r\n  background-color: #ecf5ff;\r\n  border-radius: 8px;\r\n  border: 1px solid #d9ecff;\r\n  transition: all 0.3s ease;\r\n}\r\n\r\n.fee-info:hover {\r\n  transform: translateY(-2px);\r\n  box-shadow: 0 4px 12px rgba(0,0,0,0.05);\r\n}\r\n\r\n.fee-label {\r\n  font-size: 16px;\r\n  color: #409EFF;\r\n  font-weight: 500;\r\n}\r\n\r\n.fee-amount {\r\n  font-size: 24px;\r\n  color: #f56c6c;\r\n  font-weight: 600;\r\n  margin-left: 10px;\r\n}\r\n\r\n.submit-btn {\r\n  width: 100%;\r\n  margin-top: 30px;\r\n  height: 50px;\r\n  font-size: 16px;\r\n  font-weight: 500;\r\n  letter-spacing: 1px;\r\n  border-radius: 25px;\r\n  background: linear-gradient(135deg, #409EFF 0%, #36a3f7 100%);\r\n  border: none;\r\n  transition: all 0.3s ease;\r\n}\r\n\r\n.submit-btn:hover {\r\n  transform: translateY(-2px);\r\n  box-shadow: 0 4px 12px rgba(64,158,255,0.3);\r\n}\r\n\r\n.submit-btn:active {\r\n  transform: translateY(0);\r\n}\r\n</style>\r\n","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Appointment.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Appointment.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./Appointment.vue?vue&type=template&id=20ee6e1a&scoped=true\"\nimport script from \"./Appointment.vue?vue&type=script&lang=js\"\nexport * from \"./Appointment.vue?vue&type=script&lang=js\"\nimport style0 from \"./Appointment.vue?vue&type=style&index=0&id=20ee6e1a&prod&scoped=true&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"20ee6e1a\",\n  null\n  \n)\n\nexport default component.exports","'use strict';\nvar globalThis = require('../internals/global-this');\nvar fails = require('../internals/fails');\nvar uncurryThis = require('../internals/function-uncurry-this');\nvar toString = require('../internals/to-string');\nvar trim = require('../internals/string-trim').trim;\nvar whitespaces = require('../internals/whitespaces');\n\nvar $parseInt = globalThis.parseInt;\nvar Symbol = globalThis.Symbol;\nvar ITERATOR = Symbol && Symbol.iterator;\nvar hex = /^[+-]?0x/i;\nvar exec = uncurryThis(hex.exec);\nvar FORCED = $parseInt(whitespaces + '08') !== 8 || $parseInt(whitespaces + '0x16') !== 22\n  // MS Edge 18- broken with boxed symbols\n  || (ITERATOR && !fails(function () { $parseInt(Object(ITERATOR)); }));\n\n// `parseInt` method\n// https://tc39.es/ecma262/#sec-parseint-string-radix\nmodule.exports = FORCED ? function parseInt(string, radix) {\n  var S = trim(toString(string));\n  return $parseInt(S, (radix >>> 0) || (exec(hex, S) ? 16 : 10));\n} : $parseInt;\n","'use strict';\n// TODO: Remove from `core-js@4`\nvar $ = require('../internals/export');\nvar uncurryThis = require('../internals/function-uncurry-this');\n\nvar $Date = Date;\nvar thisTimeValue = uncurryThis($Date.prototype.getTime);\n\n// `Date.now` method\n// https://tc39.es/ecma262/#sec-date.now\n$({ target: 'Date', stat: true }, {\n  now: function now() {\n    return thisTimeValue(new $Date());\n  }\n});\n","'use strict';\n// TODO: Remove from `core-js@4`\nvar uncurryThis = require('../internals/function-uncurry-this');\nvar defineBuiltIn = require('../internals/define-built-in');\n\nvar DatePrototype = Date.prototype;\nvar INVALID_DATE = 'Invalid Date';\nvar TO_STRING = 'toString';\nvar nativeDateToString = uncurryThis(DatePrototype[TO_STRING]);\nvar thisTimeValue = uncurryThis(DatePrototype.getTime);\n\n// `Date.prototype.toString` method\n// https://tc39.es/ecma262/#sec-date.prototype.tostring\nif (String(new Date(NaN)) !== INVALID_DATE) {\n  defineBuiltIn(DatePrototype, TO_STRING, function toString() {\n    var value = thisTimeValue(this);\n    // eslint-disable-next-line no-self-compare -- NaN check\n    return value === value ? nativeDateToString(this) : INVALID_DATE;\n  });\n}\n","'use strict';\nvar $ = require('../internals/export');\nvar $parseInt = require('../internals/number-parse-int');\n\n// `parseInt` method\n// https://tc39.es/ecma262/#sec-parseint-string-radix\n$({ global: true, forced: parseInt !== $parseInt }, {\n  parseInt: $parseInt\n});\n"],"names":["render","_vm","this","_c","_self","staticClass","attrs","on","$event","$router","go","doctorInfo","headimg","_v","_s","username","experience","_e","comment","ref","appointmentForm","rules","model","value","userName","callback","$$v","$set","expression","userGender","userAge","dateOptions","appointmentDate","timeSlot","_l","timeSlots","slot","key","label","visitType","description","registrationFee","submitAppointment","staticRenderFns","name","data","required","message","trigger","disabledDate","time","getTime","Date","now","created","getDoctorInfo","getUserInfo","methods","_this","_asyncToGenerator","_regeneratorRuntime","mark","_callee","_yield$_this$$http$ge","wrap","_context","prev","next","$http","get","concat","$route","params","doctorId","sent","code","$message","error","t0","stop","userInfo","JSON","parse","localStorage","getItem","id","push","gender","birthday","birthDate","today","age","getFullYear","monthDiff","getMonth","getDate","console","_this2","_callee3","_context3","$refs","validate","_ref","_callee2","valid","appointmentData","response","_response$data","_context2","abrupt","parseInt","userId","fee","log","post","$alert","confirmButtonText","type","_x","apply","arguments","component","globalThis","fails","uncurryThis","toString","trim","whitespaces","$parseInt","Symbol","ITERATOR","iterator","hex","exec","FORCED","Object","module","exports","string","radix","S","$","$Date","thisTimeValue","prototype","target","stat","defineBuiltIn","DatePrototype","INVALID_DATE","TO_STRING","nativeDateToString","String","NaN","global","forced"],"sourceRoot":""}