{"version":3,"file":"js/288.572ce754.js","mappings":"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","sources":["webpack://hospital-web/./src/views/Doctors.vue","webpack://hospital-web/src/views/Doctors.vue","webpack://hospital-web/./src/views/Doctors.vue?2806","webpack://hospital-web/./src/views/Doctors.vue?eb85"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"doctors-container\"},[_c('div',{staticClass:\"page-header\"},[_c('el-page-header',{attrs:{\"content\":_vm.departmentName + '科室医生'},on:{\"back\":function($event){return _vm.$router.go(-1)}}})],1),_c('el-row',{staticClass:\"doctor-list\",attrs:{\"gutter\":20}},_vm._l((_vm.doctors),function(doctor){return _c('el-col',{key:doctor.id,attrs:{\"span\":8}},[_c('el-card',{staticClass:\"doctor-card\"},[_c('div',{staticClass:\"doctor-avatar\"},[(!doctor.headimg)?_c('i',{staticClass:\"el-icon-user-solid\"}):_c('img',{attrs:{\"src\":doctor.headimg,\"alt\":\"医生头像\"}})]),_c('div',{staticClass:\"doctor-info\"},[_c('h3',{staticClass:\"doctor-name\"},[_vm._v(_vm._s(doctor.username))]),_c('p',{staticClass:\"doctor-title\"},[_vm._v(_vm._s(doctor.title || '主治医师'))]),_c('p',{staticClass:\"doctor-exp\"},[_vm._v(\"从医经验：\"+_vm._s(doctor.experience || '5')+\"年\")]),_c('div',{staticClass:\"doctor-comment\"},[_vm._v(_vm._s(doctor.comment || '专业医师，热心为患者服务'))]),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){return _vm.handleAppointment(doctor)}}},[_vm._v(\"预约挂号\")])],1)])],1)}),1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"doctors-container\">\r\n    <div class=\"page-header\">\r\n      <el-page-header @back=\"$router.go(-1)\" :content=\"departmentName + '科室医生'\"></el-page-header>\r\n    </div>\r\n    <el-row :gutter=\"20\" class=\"doctor-list\">\r\n      <el-col :span=\"8\" v-for=\"doctor in doctors\" :key=\"doctor.id\">\r\n        <el-card class=\"doctor-card\">\r\n          <div class=\"doctor-avatar\">\r\n            <i v-if=\"!doctor.headimg\" class=\"el-icon-user-solid\"></i>\r\n            <img v-else :src=\"doctor.headimg\" alt=\"医生头像\">\r\n          </div>\r\n          <div class=\"doctor-info\">\r\n            <h3 class=\"doctor-name\">{{ doctor.username }}</h3>\r\n            <p class=\"doctor-title\">{{ doctor.title || '主治医师' }}</p>\r\n            <p class=\"doctor-exp\">从医经验：{{ doctor.experience || '5' }}年</p>\r\n            <div class=\"doctor-comment\">{{ doctor.comment || '专业医师，热心为患者服务' }}</div>\r\n            <el-button type=\"primary\" @click=\"handleAppointment(doctor)\">预约挂号</el-button>\r\n          </div>\r\n        </el-card>\r\n      </el-col>\r\n    </el-row>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: 'Doctors',\r\n  props: {\r\n    id: {\r\n      type: Number,\r\n      required: true,\r\n      validator: value => !isNaN(value)\r\n    }\r\n  },\r\n  data() {\r\n    return {\r\n      doctors: [],\r\n      departmentName: ''\r\n    }\r\n  },\r\n  created() {\r\n    if (!isNaN(this.id)) {\r\n      this.getDoctors()\r\n      this.getDepartmentInfo()\r\n    } else {\r\n      this.$message.error('无效的科室ID')\r\n      this.$router.push('/home/departments')\r\n    }\r\n  },\r\n  methods: {\r\n    async getDoctors() {\r\n      try {\r\n        console.log('正在获取科室ID为', this.id, '的医生列表');\r\n        const { data: response } = await this.$http.get('/api/empinfo/findByDid', {\r\n          params: {\r\n            departmentid: this.id\r\n          }\r\n        });\r\n        console.log('API响应:', response);\r\n        if (response.code === 200) {\r\n          this.doctors = response.data;\r\n        } else {\r\n          this.$message.error(response.message || '获取医生列表失败');\r\n        }\r\n      } catch (error) {\r\n        console.error('获取医生列表错误:', error);\r\n        this.$message.error('获取医生列表失败，请稍后重试');\r\n      }\r\n    },\r\n    async getDepartmentInfo() {\r\n      try {\r\n        console.log('正在获取科室信息，ID:', this.id);\r\n        const { data: response } = await this.$http.get('/api/departmentinfo/findById', {\r\n          params: {\r\n            id: this.id\r\n          }\r\n        });\r\n        console.log('科室信息响应:', response);\r\n        if (response.code === 200) {\r\n          this.departmentName = response.data.departmentname;\r\n        } else {\r\n          this.$message.error(response.message || '获取科室信息失败');\r\n        }\r\n      } catch (error) {\r\n        console.error('获取科室信息失败:', error);\r\n        this.$message.error('获取科室信息失败');\r\n      }\r\n    },\r\n    handleAppointment(doctor) {\r\n      this.$router.push(`/home/appointment/${doctor.id}`);\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.doctors-container {\r\n  padding: 20px;\r\n}\r\n\r\n.page-header {\r\n  margin-bottom: 20px;\r\n}\r\n\r\n.doctor-list {\r\n  margin-top: 20px;\r\n}\r\n\r\n.doctor-card {\r\n  margin-bottom: 20px;\r\n  height: 400px;\r\n}\r\n\r\n.doctor-avatar {\r\n  text-align: center;\r\n  margin-bottom: 15px;\r\n}\r\n\r\n.doctor-avatar img {\r\n  width: 120px;\r\n  height: 120px;\r\n  border-radius: 50%;\r\n  object-fit: cover;\r\n}\r\n\r\n.doctor-avatar i {\r\n  font-size: 120px;\r\n  color: #dcdfe6;\r\n}\r\n\r\n.doctor-info {\r\n  text-align: center;\r\n}\r\n\r\n.doctor-name {\r\n  font-size: 18px;\r\n  margin-bottom: 10px;\r\n}\r\n\r\n.doctor-title {\r\n  color: #409EFF;\r\n  margin-bottom: 10px;\r\n}\r\n\r\n.doctor-exp {\r\n  color: #606266;\r\n  margin-bottom: 10px;\r\n}\r\n\r\n.doctor-comment {\r\n  color: #909399;\r\n  margin-bottom: 15px;\r\n  height: 60px;\r\n  overflow: hidden;\r\n  text-overflow: ellipsis;\r\n  display: -webkit-box;\r\n  -webkit-line-clamp: 3;\r\n  -webkit-box-orient: vertical;\r\n}\r\n</style>\r\n","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Doctors.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Doctors.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./Doctors.vue?vue&type=template&id=9567f9e6&scoped=true\"\nimport script from \"./Doctors.vue?vue&type=script&lang=js\"\nexport * from \"./Doctors.vue?vue&type=script&lang=js\"\nimport style0 from \"./Doctors.vue?vue&type=style&index=0&id=9567f9e6&prod&scoped=true&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"9567f9e6\",\n  null\n  \n)\n\nexport default component.exports"],"names":["render","_vm","this","_c","_self","staticClass","attrs","departmentName","on","$event","$router","go","_l","doctors","doctor","key","id","headimg","_v","_s","username","title","experience","comment","handleAppointment","staticRenderFns","name","props","type","Number","required","validator","value","isNaN","data","created","$message","error","push","getDoctors","getDepartmentInfo","methods","_this","_asyncToGenerator","_regeneratorRuntime","mark","_callee","_yield$_this$$http$ge","response","wrap","_context","prev","next","console","log","$http","get","params","departmentid","sent","code","message","t0","stop","_this2","_callee2","_yield$_this2$$http$g","_context2","departmentname","concat","component"],"sourceRoot":""}