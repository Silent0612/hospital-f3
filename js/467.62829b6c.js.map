{"version":3,"file":"js/467.62829b6c.js","mappings":"mKAAIA,EAAS,WAAkB,IAAIC,EAAIC,KAAKC,EAAGF,EAAIG,MAAMD,GAAG,OAAOA,EAAG,MAAM,CAACE,YAAY,qBAAqB,CAACF,EAAG,MAAM,CAACE,YAAY,eAAe,CAACF,EAAG,KAAK,CAACE,YAAY,cAAc,CAACJ,EAAIK,GAAG,YAAYH,EAAG,MAAM,CAACE,YAAY,eAAe,CAACJ,EAAIK,GAAG,KAAKL,EAAIM,GAAGN,EAAIO,OAAO,YAAYL,EAAG,UAAU,CAACE,YAAY,eAAeI,MAAM,CAAC,OAAS,UAAU,CAACN,EAAG,WAAW,CAACO,WAAW,CAAC,CAACC,KAAK,UAAUC,QAAQ,YAAYC,MAAOZ,EAAIa,QAASC,WAAW,YAAYC,YAAY,CAAC,MAAQ,QAAQP,MAAM,CAAC,KAAOR,EAAIgB,QAAQ,oBAAoB,CAAEC,WAAY,UAAWC,MAAO,UAAWC,WAAY,OAAQ,iBAAiBnB,EAAIoB,oBAAoB,CAAClB,EAAG,kBAAkB,CAACM,MAAM,CAAC,KAAO,aAAa,MAAQ,OAAO,YAAY,OAAOa,YAAYrB,EAAIsB,GAAG,CAAC,CAACC,IAAI,UAAUC,GAAG,SAASC,GAAO,MAAO,CAACvB,EAAG,MAAM,CAACE,YAAY,eAAe,CAACF,EAAG,IAAI,CAACE,YAAY,iBAAiBJ,EAAIK,GAAG,IAAIL,EAAIM,GAAGmB,EAAMC,IAAIC,YAAY,OAAO,OAAOzB,EAAG,kBAAkB,CAACM,MAAM,CAAC,KAAO,iBAAiB,MAAQ,OAAO,YAAY,OAAOa,YAAYrB,EAAIsB,GAAG,CAAC,CAACC,IAAI,UAAUC,GAAG,SAASC,GAAO,MAAO,CAACvB,EAAG,SAAS,CAACM,MAAM,CAAC,KAAO,SAAS,KAAOR,EAAI4B,qBAAqBH,EAAMC,IAAIG,kBAAkB,CAAC7B,EAAIK,GAAG,IAAIL,EAAIM,GAAGmB,EAAMC,IAAIG,gBAAgB,OAAO,OAAO3B,EAAG,kBAAkB,CAACM,MAAM,CAAC,KAAO,kBAAkB,MAAQ,OAAO,YAAY,OAAOa,YAAYrB,EAAIsB,GAAG,CAAC,CAACC,IAAI,UAAUC,GAAG,SAASC,GAAO,MAAO,CAACvB,EAAG,MAAM,CAACE,YAAY,aAAa,CAACF,EAAG,IAAI,CAACE,YAAY,iBAAiBJ,EAAIK,GAAG,IAAIL,EAAIM,GAAGN,EAAI8B,WAAWL,EAAMC,IAAIK,kBAAkB,OAAO,OAAO7B,EAAG,kBAAkB,CAACM,MAAM,CAAC,KAAO,WAAW,MAAQ,OAAO,YAAY,OAAOa,YAAYrB,EAAIsB,GAAG,CAAC,CAACC,IAAI,UAAUC,GAAG,SAASC,GAAO,MAAO,CAACvB,EAAG,MAAM,CAACE,YAAY,aAAa,CAACF,EAAG,IAAI,CAACE,YAAY,iBAAiBJ,EAAIK,GAAG,IAAIL,EAAIM,GAAGN,EAAIgC,iBAAiBP,EAAMC,IAAIO,WAAW,OAAO,OAAO/B,EAAG,kBAAkB,CAACM,MAAM,CAAC,KAAO,cAAc,MAAQ,OAAO,YAAY,MAAM,wBAAwB,IAAIa,YAAYrB,EAAIsB,GAAG,CAAC,CAACC,IAAI,UAAUC,GAAG,SAASC,GAAO,MAAO,CAACvB,EAAG,MAAM,CAACE,YAAY,oBAAoB,CAACF,EAAG,IAAI,CAACE,YAAY,qBAAqBJ,EAAIK,GAAG,IAAIL,EAAIM,GAAGmB,EAAMC,IAAIQ,aAAa,OAAO,OAAOhC,EAAG,kBAAkB,CAACM,MAAM,CAAC,KAAO,SAAS,MAAQ,KAAK,YAAY,OAAOa,YAAYrB,EAAIsB,GAAG,CAAC,CAACC,IAAI,UAAUC,GAAG,SAASC,GAAO,MAAO,CAACvB,EAAG,SAAS,CAACE,YAAY,aAAaI,MAAM,CAAC,KAAOR,EAAImC,cAAcV,EAAMC,IAAIU,QAAQ,OAAS,OAAO,KAAO,WAAW,CAACpC,EAAIK,GAAG,IAAIL,EAAIM,GAAGN,EAAIqC,eAAeZ,EAAMC,IAAIU,SAAS,OAAO,OAAOlC,EAAG,kBAAkB,CAACM,MAAM,CAAC,MAAQ,KAAK,YAAY,MAAM,MAAQ,SAASa,YAAYrB,EAAIsB,GAAG,CAAC,CAACC,IAAI,UAAUC,GAAG,SAASC,GAAO,MAAO,CAAEzB,EAAIsC,UAAUb,EAAMC,KAAMxB,EAAG,YAAY,CAACE,YAAY,aAAaI,MAAM,CAAC,KAAO,SAAS,KAAO,QAAQ+B,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOxC,EAAIyC,aAAahB,EAAMC,IAAI,IAAI,CAAC1B,EAAIK,GAAG,YAAYL,EAAI0C,KAAK,QAAQ,GAAI1C,EAAIO,MAAQ,EAAGL,EAAG,MAAM,CAACE,YAAY,wBAAwB,CAACF,EAAG,gBAAgB,CAACM,MAAM,CAAC,WAAa,GAAG,eAAeR,EAAI2C,YAAY,YAAY,GAAG,OAAS,4BAA4B,MAAQ3C,EAAIO,OAAOgC,GAAG,CAAC,iBAAiBvC,EAAI4C,wBAAwB,GAAG5C,EAAI0C,MAAM,IAAI,EAClgG,EACIG,EAAkB,G,mECwHtB,SACAnC,KAAA,UACAoC,KAAA,WACA,OACAjC,SAAA,EACAG,QAAA,GACA2B,YAAA,EACApC,MAAA,EACAwC,UAAA,CACA,kBACA,mBACA,mBACA,oBAGA,EACAC,QAAA,WACA,KAAAC,YACA,EACAC,QAAA,CACA9B,kBAAA,SAAA+B,GAAA,IAAAzB,EAAAyB,EAAAzB,IACA,WAAAA,EAAAU,OACA,gBAEA,EACA,EACAR,qBAAA,SAAAwB,GACA,IAAAC,EAAA,CACA,MACA,aACA,aACA,YACA,UACA,SAEA,OAAAA,EAAAD,IAAA,EACA,EACAH,WAAA,eAAAK,EAAA,YAAAC,EAAAA,EAAAA,IAAAC,EAAAA,EAAAA,KAAAC,MAAA,SAAAC,IAAA,IAAAC,EAAAC,EAAAC,EAAA,OAAAL,EAAAA,EAAAA,KAAAM,MAAA,SAAAC,GAAA,eAAAA,EAAAC,KAAAD,EAAAE,MAAA,OAIA,GAHAX,EAAAzC,SAAA,EAAAkD,EAAAC,KAAA,EAEAL,EAAAO,KAAAC,MAAAC,aAAAC,QAAA,mBACAC,QAAAC,IAAA,UAAAZ,GAEAA,EAAAa,GAAA,CAAAT,EAAAE,KAAA,QAEA,OADAX,EAAAmB,SAAAC,MAAA,QACApB,EAAAqB,QAAAC,KAAA,UAAAb,EAAAc,OAAA,wBAAAd,EAAAE,KAAA,GAIAX,EAAAwB,MAAAC,IAAA,0BAAAC,OAAArB,EAAAa,KAAA,QAAAZ,EAAAG,EAAAkB,KACAX,QAAAC,IAAA,UAAAX,GAEAA,EAAAd,MAAA,MAAAc,EAAAd,KAAAoC,KACAC,MAAAC,QAAAxB,EAAAd,KAAAA,OACAQ,EAAAtC,QAAA4C,EAAAd,KAAAA,KACAQ,EAAA/C,MAAA+C,EAAAtC,QAAAqE,OACAf,QAAAC,IAAA,YAAAjB,EAAAtC,WAEAsD,QAAAI,MAAA,aAAAd,EAAAd,KAAAA,MACAQ,EAAAtC,QAAA,GACAsC,EAAA/C,MAAA,GAGA+C,EAAAmB,SAAAC,OAAA,QAAAb,EAAAD,EAAAd,YAAA,IAAAe,OAAA,EAAAA,EAAAyB,UAAA,YACAvB,EAAAE,KAAA,iBAAAF,EAAAC,KAAA,GAAAD,EAAAwB,GAAAxB,EAAA,YAEAO,QAAAI,MAAA,YAAAX,EAAAwB,IACAjC,EAAAmB,SAAAC,MAAA,0BAEA,OAFAX,EAAAC,KAAA,GAEAV,EAAAzC,SAAA,EAAAkD,EAAAyB,OAAA,6BAAAzB,EAAA0B,OAAA,GAAA/B,EAAA,wBAhCAH,EAkCA,EACAzB,WAAA,SAAA4D,GACA,IAAAA,EAAA,SACA,IAAAC,EAAA,IAAAC,KAAAF,GACA,SAAAV,OAAAW,EAAAE,cAAA,KAAAb,OAAAc,OAAAH,EAAAI,WAAA,GAAAC,SAAA,YAAAhB,OAAAc,OAAAH,EAAAM,WAAAD,SAAA,OACA,EACAhE,iBAAA,SAAAC,GACA,YAAAc,UAAAd,IAAA,MACA,EACAE,cAAA,SAAAC,GACA,IAAA8D,EAAA,CACA,YACA,YACA,UAEA,OAAAA,EAAA9D,IAAA,MACA,EACAC,eAAA,SAAAD,GACA,IAAA+D,EAAA,CACA,QACA,QACA,SAEA,OAAAA,EAAA/D,IAAA,MACA,EACAE,UAAA,SAAA8D,GACA,WAAAA,EAAAhE,QAAA,IAAAwD,KAAAQ,EAAArE,iBAAA,IAAA6D,IACA,EACAhD,oBAAA,SAAAyD,GACA,KAAA1D,YAAA0D,EACA,KAAApD,YACA,EACAR,aAAA,SAAA2D,GAAA,IAAAE,EAAA,YAAA/C,EAAAA,EAAAA,IAAAC,EAAAA,EAAAA,KAAAC,MAAA,SAAA8C,IAAA,IAAA3C,EAAA4C,EAAA,OAAAhD,EAAAA,EAAAA,KAAAM,MAAA,SAAA2C,GAAA,eAAAA,EAAAzC,KAAAyC,EAAAxC,MAAA,cAAAwC,EAAAzC,KAAA,EAAAyC,EAAAxC,KAAA,EAEAqC,EAAAI,SAAA,kBACAC,kBAAA,KACAC,iBAAA,KACAC,KAAA,YACA,cAAAJ,EAAAxC,KAAA,EAEAqC,EAAAxB,MAAAgC,IAAA,qBAAA9B,OAAAoB,EAAA5B,GAAA,mBAAAZ,EAAA6C,EAAAxB,KACArB,EAAAd,MAAA,MAAAc,EAAAd,KAAAoC,MACAoB,EAAA7B,SAAAsC,QAAA,UACAT,EAAArD,cAEAqD,EAAA7B,SAAAC,OAAA,QAAA8B,EAAA5C,EAAAd,YAAA,IAAA0D,OAAA,EAAAA,EAAAlB,UAAA,UACAmB,EAAAxC,KAAA,gBAAAwC,EAAAzC,KAAA,EAAAyC,EAAAlB,GAAAkB,EAAA,YAEA,WAAAA,EAAAlB,KACAjB,QAAAI,MAAA,UAAA+B,EAAAlB,IACAe,EAAA7B,SAAAC,MAAA,iBACA,yBAAA+B,EAAAhB,OAAA,GAAAc,EAAA,iBAnBAhD,EAqBA,ICtPsP,I,cCQlPyD,GAAY,OACd,EACAjH,EACA8C,GACA,EACA,KACA,WACA,MAIF,QAAemE,EAAiB,O,iBCjBhC,IAAIC,EAAY,EAAQ,MAExBC,EAAOC,QAAU,mEAAmEC,KAAKH,E,gBCFzF,IAAII,EAAc,EAAQ,MACtBC,EAAW,EAAQ,MACnBC,EAAW,EAAQ,KACnBC,EAAU,EAAQ,MAClBC,EAAyB,EAAQ,MAEjCC,EAASL,EAAYG,GACrBG,EAAcN,EAAY,GAAGO,OAC7BC,EAAOC,KAAKD,KAGZE,EAAe,SAAUC,GAC3B,OAAO,SAAUC,EAAOC,EAAWC,GACjC,IAIIC,EAASC,EAJTC,EAAIf,EAASE,EAAuBQ,IACpCM,EAAejB,EAASY,GACxBM,EAAeF,EAAEjD,OACjBoD,OAAyBC,IAAfP,EAA2B,IAAMZ,EAASY,GAExD,OAAII,GAAgBC,GAA4B,KAAZC,EAAuBH,GAC3DF,EAAUG,EAAeC,EACzBH,EAAeX,EAAOe,EAASZ,EAAKO,EAAUK,EAAQpD,SAClDgD,EAAahD,OAAS+C,IAASC,EAAeV,EAAYU,EAAc,EAAGD,IACxEJ,EAASM,EAAID,EAAeA,EAAeC,EACpD,CACF,EAEApB,EAAOC,QAAU,CAGfwB,MAAOZ,GAAa,GAGpBa,IAAKb,GAAa,G,iBCjCpB,IAAIc,EAAsB,EAAQ,MAC9BtB,EAAW,EAAQ,KACnBE,EAAyB,EAAQ,MAEjCqB,EAAcC,WAIlB7B,EAAOC,QAAU,SAAgB6B,GAC/B,IAAIC,EAAM1B,EAASE,EAAuBxH,OACtCiJ,EAAS,GACTC,EAAIN,EAAoBG,GAC5B,GAAIG,EAAI,GAAKA,IAAMC,IAAU,MAAM,IAAIN,EAAY,+BACnD,KAAMK,EAAI,GAAIA,KAAO,KAAOF,GAAOA,GAAc,EAAJE,IAAOD,GAAUD,GAC9D,OAAOC,CACT,C,iBCfA,IAAIG,EAAI,EAAQ,MACZC,EAAQ,EAAQ,MAChBlE,EAAU,EAAQ,MAClBmE,EAAW,EAAQ,IACnBC,EAAW,EAAQ,MACnBC,EAAoB,EAAQ,MAC5BC,EAA2B,EAAQ,MACnCC,EAAiB,EAAQ,MACzBC,EAAqB,EAAQ,MAC7BC,EAA+B,EAAQ,KACvCC,EAAkB,EAAQ,MAC1BC,EAAa,EAAQ,MAErBC,EAAuBF,EAAgB,sBAKvCG,EAA+BF,GAAc,KAAOT,GAAM,WAC5D,IAAIY,EAAQ,GAEZ,OADAA,EAAMF,IAAwB,EACvBE,EAAMlF,SAAS,KAAOkF,CAC/B,IAEIC,EAAqB,SAAUC,GACjC,IAAKb,EAASa,GAAI,OAAO,EACzB,IAAIC,EAAaD,EAAEJ,GACnB,YAAsBtB,IAAf2B,IAA6BA,EAAajF,EAAQgF,EAC3D,EAEIE,GAAUL,IAAiCJ,EAA6B,UAK5ER,EAAE,CAAEkB,OAAQ,QAASC,OAAO,EAAMC,MAAO,EAAGC,OAAQJ,GAAU,CAE5DtF,OAAQ,SAAgB2F,GACtB,IAGIC,EAAGC,EAAGxF,EAAQyF,EAAKC,EAHnBX,EAAIZ,EAASvJ,MACb+K,EAAIpB,EAAmBQ,EAAG,GAC1BjB,EAAI,EAER,IAAKyB,GAAK,EAAGvF,EAAS4F,UAAU5F,OAAQuF,EAAIvF,EAAQuF,IAElD,GADAG,GAAW,IAAPH,EAAWR,EAAIa,UAAUL,GACzBT,EAAmBY,GAGrB,IAFAD,EAAMrB,EAAkBsB,GACxBrB,EAAyBP,EAAI2B,GACxBD,EAAI,EAAGA,EAAIC,EAAKD,IAAK1B,IAAS0B,KAAKE,GAAGpB,EAAeqB,EAAG7B,EAAG4B,EAAEF,SAElEnB,EAAyBP,EAAI,GAC7BQ,EAAeqB,EAAG7B,IAAK4B,GAI3B,OADAC,EAAE3F,OAAS8D,EACJ6B,CACT,G,iBCvDF,IAAI3B,EAAI,EAAQ,MACZjE,EAAU,EAAQ,MAItBiE,EAAE,CAAEkB,OAAQ,QAASW,MAAM,GAAQ,CACjC9F,QAASA,G,iBCLX,IAAIiC,EAAc,EAAQ,MACtB8D,EAAgB,EAAQ,MAExBC,EAAgBxF,KAAKyF,UACrBC,EAAe,eACfC,EAAY,WACZC,EAAqBnE,EAAY+D,EAAcG,IAC/CE,EAAgBpE,EAAY+D,EAAcM,SAI1C5F,OAAO,IAAIF,KAAK+F,QAAUL,GAC5BH,EAAcC,EAAeG,GAAW,WACtC,IAAI3K,EAAQ6K,EAAcxL,MAE1B,OAAOW,IAAUA,EAAQ4K,EAAmBvL,MAAQqL,CACtD,G,iBCjBF,IAAIjC,EAAI,EAAQ,MACZuC,EAAY,aACZC,EAAa,EAAQ,MAIzBxC,EAAE,CAAEkB,OAAQ,SAAUC,OAAO,EAAME,OAAQmB,GAAc,CACvD7F,SAAU,SAAkBkC,GAC1B,OAAO0D,EAAU3L,KAAMiI,EAAW+C,UAAU5F,OAAS,EAAI4F,UAAU,QAAKvC,EAC1E,G","sources":["webpack://hospital-web/./src/views/Records.vue","webpack://hospital-web/src/views/Records.vue","webpack://hospital-web/./src/views/Records.vue?34e9","webpack://hospital-web/./src/views/Records.vue?454a","webpack://hospital-web/./node_modules/core-js/internals/string-pad-webkit-bug.js","webpack://hospital-web/./node_modules/core-js/internals/string-pad.js","webpack://hospital-web/./node_modules/core-js/internals/string-repeat.js","webpack://hospital-web/./node_modules/core-js/modules/es.array.concat.js","webpack://hospital-web/./node_modules/core-js/modules/es.array.is-array.js","webpack://hospital-web/./node_modules/core-js/modules/es.date.to-string.js","webpack://hospital-web/./node_modules/core-js/modules/es.string.pad-start.js"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"records-container\"},[_c('div',{staticClass:\"page-header\"},[_c('h2',{staticClass:\"page-title\"},[_vm._v(\"我的预约记录\")]),_c('div',{staticClass:\"header-desc\"},[_vm._v(\"共 \"+_vm._s(_vm.total)+\" 条记录\")])]),_c('el-card',{staticClass:\"records-card\",attrs:{\"shadow\":\"hover\"}},[_c('el-table',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.loading),expression:\"loading\"}],staticStyle:{\"width\":\"100%\"},attrs:{\"data\":_vm.records,\"header-cell-style\":{ background: '#f5f7fa', color: '#606266', fontWeight: '600' },\"row-class-name\":_vm.tableRowClassName}},[_c('el-table-column',{attrs:{\"prop\":\"doctorName\",\"label\":\"医生姓名\",\"min-width\":\"100\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('div',{staticClass:\"doctor-name\"},[_c('i',{staticClass:\"el-icon-user\"}),_vm._v(\" \"+_vm._s(scope.row.doctorName)+\" \")])]}}])}),_c('el-table-column',{attrs:{\"prop\":\"departmentName\",\"label\":\"就诊科室\",\"min-width\":\"120\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-tag',{attrs:{\"size\":\"medium\",\"type\":_vm.getDepartmentTagType(scope.row.departmentName)}},[_vm._v(\" \"+_vm._s(scope.row.departmentName)+\" \")])]}}])}),_c('el-table-column',{attrs:{\"prop\":\"appointmentDate\",\"label\":\"就诊日期\",\"min-width\":\"120\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('div',{staticClass:\"date-info\"},[_c('i',{staticClass:\"el-icon-date\"}),_vm._v(\" \"+_vm._s(_vm.formatDate(scope.row.appointmentDate))+\" \")])]}}])}),_c('el-table-column',{attrs:{\"prop\":\"timeSlot\",\"label\":\"就诊时段\",\"min-width\":\"120\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('div',{staticClass:\"time-info\"},[_c('i',{staticClass:\"el-icon-time\"}),_vm._v(\" \"+_vm._s(_vm.getTimeSlotLabel(scope.row.timeSlot))+\" \")])]}}])}),_c('el-table-column',{attrs:{\"prop\":\"description\",\"label\":\"症状描述\",\"min-width\":\"200\",\"show-overflow-tooltip\":\"\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('div',{staticClass:\"description-cell\"},[_c('i',{staticClass:\"el-icon-document\"}),_vm._v(\" \"+_vm._s(scope.row.description)+\" \")])]}}])}),_c('el-table-column',{attrs:{\"prop\":\"status\",\"label\":\"状态\",\"min-width\":\"100\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-tag',{staticClass:\"status-tag\",attrs:{\"type\":_vm.getStatusType(scope.row.status),\"effect\":\"dark\",\"size\":\"medium\"}},[_vm._v(\" \"+_vm._s(_vm.getStatusLabel(scope.row.status))+\" \")])]}}])}),_c('el-table-column',{attrs:{\"label\":\"操作\",\"min-width\":\"120\",\"fixed\":\"right\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [(_vm.canCancel(scope.row))?_c('el-button',{staticClass:\"cancel-btn\",attrs:{\"type\":\"danger\",\"size\":\"mini\"},on:{\"click\":function($event){return _vm.handleCancel(scope.row)}}},[_vm._v(\" 取消预约 \")]):_vm._e()]}}])})],1),(_vm.total > 0)?_c('div',{staticClass:\"pagination-container\"},[_c('el-pagination',{attrs:{\"background\":\"\",\"current-page\":_vm.currentPage,\"page-size\":10,\"layout\":\"prev, pager, next, jumper\",\"total\":_vm.total},on:{\"current-change\":_vm.handleCurrentChange}})],1):_vm._e()],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"records-container\">\r\n    <div class=\"page-header\">\r\n      <h2 class=\"page-title\">我的预约记录</h2>\r\n      <div class=\"header-desc\">共 {{ total }} 条记录</div>\r\n    </div>\r\n\r\n    <el-card class=\"records-card\" shadow=\"hover\">\r\n      <el-table\r\n        v-loading=\"loading\"\r\n        :data=\"records\"\r\n        style=\"width: 100%\"\r\n        :header-cell-style=\"{ background: '#f5f7fa', color: '#606266', fontWeight: '600' }\"\r\n        :row-class-name=\"tableRowClassName\">\r\n        \r\n        <el-table-column\r\n          prop=\"doctorName\"\r\n          label=\"医生姓名\"\r\n          min-width=\"100\">\r\n          <template slot-scope=\"scope\">\r\n            <div class=\"doctor-name\">\r\n              <i class=\"el-icon-user\"></i>\r\n              {{ scope.row.doctorName }}\r\n            </div>\r\n          </template>\r\n        </el-table-column>\r\n\r\n        <el-table-column\r\n          prop=\"departmentName\"\r\n          label=\"就诊科室\"\r\n          min-width=\"120\">\r\n          <template slot-scope=\"scope\">\r\n            <el-tag size=\"medium\" :type=\"getDepartmentTagType(scope.row.departmentName)\">\r\n              {{ scope.row.departmentName }}\r\n            </el-tag>\r\n          </template>\r\n        </el-table-column>\r\n\r\n        <el-table-column\r\n          prop=\"appointmentDate\"\r\n          label=\"就诊日期\"\r\n          min-width=\"120\">\r\n          <template slot-scope=\"scope\">\r\n            <div class=\"date-info\">\r\n              <i class=\"el-icon-date\"></i>\r\n              {{ formatDate(scope.row.appointmentDate) }}\r\n            </div>\r\n          </template>\r\n        </el-table-column>\r\n\r\n        <el-table-column\r\n          prop=\"timeSlot\"\r\n          label=\"就诊时段\"\r\n          min-width=\"120\">\r\n          <template slot-scope=\"scope\">\r\n            <div class=\"time-info\">\r\n              <i class=\"el-icon-time\"></i>\r\n              {{ getTimeSlotLabel(scope.row.timeSlot) }}\r\n            </div>\r\n          </template>\r\n        </el-table-column>\r\n\r\n        <el-table-column\r\n          prop=\"description\"\r\n          label=\"症状描述\"\r\n          min-width=\"200\"\r\n          show-overflow-tooltip>\r\n          <template slot-scope=\"scope\">\r\n            <div class=\"description-cell\">\r\n              <i class=\"el-icon-document\"></i>\r\n              {{ scope.row.description }}\r\n            </div>\r\n          </template>\r\n        </el-table-column>\r\n\r\n        <el-table-column\r\n          prop=\"status\"\r\n          label=\"状态\"\r\n          min-width=\"100\">\r\n          <template slot-scope=\"scope\">\r\n            <el-tag\r\n              :type=\"getStatusType(scope.row.status)\"\r\n              effect=\"dark\"\r\n              size=\"medium\"\r\n              class=\"status-tag\">\r\n              {{ getStatusLabel(scope.row.status) }}\r\n            </el-tag>\r\n          </template>\r\n        </el-table-column>\r\n\r\n        <el-table-column\r\n          label=\"操作\"\r\n          min-width=\"120\"\r\n          fixed=\"right\">\r\n          <template slot-scope=\"scope\">\r\n            <el-button\r\n              v-if=\"canCancel(scope.row)\"\r\n              type=\"danger\"\r\n              size=\"mini\"\r\n              class=\"cancel-btn\"\r\n              @click=\"handleCancel(scope.row)\">\r\n              取消预约\r\n            </el-button>\r\n          </template>\r\n        </el-table-column>\r\n      </el-table>\r\n\r\n      <div class=\"pagination-container\" v-if=\"total > 0\">\r\n        <el-pagination\r\n          background\r\n          @current-change=\"handleCurrentChange\"\r\n          :current-page=\"currentPage\"\r\n          :page-size=\"10\"\r\n          layout=\"prev, pager, next, jumper\"\r\n          :total=\"total\">\r\n        </el-pagination>\r\n      </div>\r\n    </el-card>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: 'Records',\r\n  data() {\r\n    return {\r\n      loading: false,\r\n      records: [],\r\n      currentPage: 1,\r\n      total: 0,\r\n      timeSlots: {\r\n        '1': '上午 8:00-10:00',\r\n        '2': '上午 10:00-12:00',\r\n        '3': '下午 14:00-16:00',\r\n        '4': '下午 16:00-18:00'\r\n      }\r\n    }\r\n  },\r\n  created() {\r\n    this.getRecords()\r\n  },\r\n  methods: {\r\n    tableRowClassName({ row }) {\r\n      if (row.status === 2) {\r\n        return 'cancelled-row'\r\n      }\r\n      return ''\r\n    },\r\n    getDepartmentTagType(dept) {\r\n      const typeMap = {\r\n        '内科': '',\r\n        '外科': 'success',\r\n        '儿科': 'warning',\r\n        '妇科': 'danger',\r\n        '眼科': 'info',\r\n        '耳鼻喉科': ''\r\n      }\r\n      return typeMap[dept] || ''\r\n    },\r\n    async getRecords() {\r\n      this.loading = true\r\n      try {\r\n        const userInfo = JSON.parse(localStorage.getItem('userInfo') || '{}')\r\n        console.log('当前用户信息:', userInfo)\r\n        \r\n        if (!userInfo.id) {\r\n          this.$message.error('请先登录')\r\n          this.$router.push('/login')\r\n          return\r\n        }\r\n        \r\n        const response = await this.$http.get(`/api/appointments/user/${userInfo.id}`)\r\n        console.log('预约记录响应:', response)\r\n        \r\n        if (response.data && response.data.code === 200) {\r\n          if (Array.isArray(response.data.data)) {\r\n            this.records = response.data.data\r\n            this.total = this.records.length\r\n            console.log('获取到的预约记录:', this.records)\r\n          } else {\r\n            console.error('返回的数据不是数组:', response.data.data)\r\n            this.records = []\r\n            this.total = 0\r\n          }\r\n        } else {\r\n          this.$message.error(response.data?.message || '获取预约记录失败')\r\n        }\r\n      } catch (error) {\r\n        console.error('获取预约记录错误:', error)\r\n        this.$message.error('获取预约记录失败，请稍后重试')\r\n      } finally {\r\n        this.loading = false\r\n      }\r\n    },\r\n    formatDate(date) {\r\n      if (!date) return ''\r\n      const d = new Date(date)\r\n      return `${d.getFullYear()}-${String(d.getMonth() + 1).padStart(2, '0')}-${String(d.getDate()).padStart(2, '0')}`\r\n    },\r\n    getTimeSlotLabel(timeSlot) {\r\n      return this.timeSlots[timeSlot] || '未知时段'\r\n    },\r\n    getStatusType(status) {\r\n      const types = {\r\n        0: 'warning',    // 待就诊\r\n        1: 'success',    // 已完成\r\n        2: 'info'        // 已取消\r\n      }\r\n      return types[status] || 'info'\r\n    },\r\n    getStatusLabel(status) {\r\n      const labels = {\r\n        0: '待就诊',\r\n        1: '已完成',\r\n        2: '已取消'\r\n      }\r\n      return labels[status] || '未知状态'\r\n    },\r\n    canCancel(record) {\r\n      return record.status === 0 && new Date(record.appointmentDate) > new Date()\r\n    },\r\n    handleCurrentChange(page) {\r\n      this.currentPage = page\r\n      this.getRecords()\r\n    },\r\n    async handleCancel(record) {\r\n      try {\r\n        await this.$confirm('确认取消该预约吗？', '提示', {\r\n          confirmButtonText: '确定',\r\n          cancelButtonText: '取消',\r\n          type: 'warning'\r\n        })\r\n        \r\n        const response = await this.$http.put(`/api/appointments/${record.id}/cancel`)\r\n        if (response.data && response.data.code === 200) {\r\n          this.$message.success('预约取消成功')\r\n          this.getRecords()\r\n        } else {\r\n          this.$message.error(response.data?.message || '取消预约失败')\r\n        }\r\n      } catch (error) {\r\n        if (error !== 'cancel') {\r\n          console.error('取消预约错误:', error)\r\n          this.$message.error('取消预约失败，请稍后重试')\r\n        }\r\n      }\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.records-container {\r\n  padding: 30px;\r\n  max-width: 1400px;\r\n  margin: 0 auto;\r\n}\r\n\r\n.page-header {\r\n  margin-bottom: 24px;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: space-between;\r\n}\r\n\r\n.page-title {\r\n  font-size: 24px;\r\n  font-weight: 600;\r\n  color: #303133;\r\n  margin: 0;\r\n  position: relative;\r\n  padding-left: 16px;\r\n}\r\n\r\n.page-title::before {\r\n  content: '';\r\n  position: absolute;\r\n  left: 0;\r\n  top: 50%;\r\n  transform: translateY(-50%);\r\n  width: 4px;\r\n  height: 20px;\r\n  background: linear-gradient(to bottom, #409EFF, #36a3f7);\r\n  border-radius: 2px;\r\n}\r\n\r\n.header-desc {\r\n  color: #909399;\r\n  font-size: 14px;\r\n}\r\n\r\n.records-card {\r\n  border-radius: 12px;\r\n  box-shadow: 0 4px 16px rgba(0, 0, 0, 0.05);\r\n}\r\n\r\n.doctor-name,\r\n.date-info,\r\n.time-info,\r\n.description-cell {\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 8px;\r\n}\r\n\r\n.doctor-name i,\r\n.date-info i,\r\n.time-info i,\r\n.description-cell i {\r\n  font-size: 16px;\r\n  color: #909399;\r\n}\r\n\r\n.status-tag {\r\n  border-radius: 4px;\r\n  padding: 6px 12px;\r\n}\r\n\r\n.cancel-btn {\r\n  padding: 8px 16px;\r\n  font-size: 13px;\r\n  border-radius: 4px;\r\n}\r\n\r\n.pagination-container {\r\n  margin-top: 24px;\r\n  display: flex;\r\n  justify-content: center;\r\n}\r\n\r\n:deep(.el-table) {\r\n  border-radius: 8px;\r\n  overflow: hidden;\r\n}\r\n\r\n:deep(.el-table th) {\r\n  background-color: #f5f7fa !important;\r\n  padding: 12px 0;\r\n}\r\n\r\n:deep(.el-table td) {\r\n  padding: 16px 0;\r\n}\r\n\r\n:deep(.el-table--enable-row-hover .el-table__body tr:hover > td) {\r\n  background-color: #f5f7fa;\r\n}\r\n\r\n:deep(.cancelled-row) {\r\n  color: #909399;\r\n  background-color: #f5f7fa;\r\n}\r\n\r\n:deep(.el-tag) {\r\n  border-radius: 4px;\r\n  padding: 0 12px;\r\n  height: 28px;\r\n  line-height: 26px;\r\n}\r\n\r\n@media screen and (max-width: 768px) {\r\n  .records-container {\r\n    padding: 15px;\r\n  }\r\n\r\n  .page-header {\r\n    flex-direction: column;\r\n    align-items: flex-start;\r\n    gap: 10px;\r\n  }\r\n\r\n  .header-desc {\r\n    margin-left: 16px;\r\n  }\r\n}\r\n</style>\r\n","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Records.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Records.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./Records.vue?vue&type=template&id=00dab056&scoped=true\"\nimport script from \"./Records.vue?vue&type=script&lang=js\"\nexport * from \"./Records.vue?vue&type=script&lang=js\"\nimport style0 from \"./Records.vue?vue&type=style&index=0&id=00dab056&prod&scoped=true&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"00dab056\",\n  null\n  \n)\n\nexport default component.exports","'use strict';\n// https://github.com/zloirock/core-js/issues/280\nvar userAgent = require('../internals/environment-user-agent');\n\nmodule.exports = /Version\\/10(?:\\.\\d+){1,2}(?: [\\w./]+)?(?: Mobile\\/\\w+)? Safari\\//.test(userAgent);\n","'use strict';\n// https://github.com/tc39/proposal-string-pad-start-end\nvar uncurryThis = require('../internals/function-uncurry-this');\nvar toLength = require('../internals/to-length');\nvar toString = require('../internals/to-string');\nvar $repeat = require('../internals/string-repeat');\nvar requireObjectCoercible = require('../internals/require-object-coercible');\n\nvar repeat = uncurryThis($repeat);\nvar stringSlice = uncurryThis(''.slice);\nvar ceil = Math.ceil;\n\n// `String.prototype.{ padStart, padEnd }` methods implementation\nvar createMethod = function (IS_END) {\n  return function ($this, maxLength, fillString) {\n    var S = toString(requireObjectCoercible($this));\n    var intMaxLength = toLength(maxLength);\n    var stringLength = S.length;\n    var fillStr = fillString === undefined ? ' ' : toString(fillString);\n    var fillLen, stringFiller;\n    if (intMaxLength <= stringLength || fillStr === '') return S;\n    fillLen = intMaxLength - stringLength;\n    stringFiller = repeat(fillStr, ceil(fillLen / fillStr.length));\n    if (stringFiller.length > fillLen) stringFiller = stringSlice(stringFiller, 0, fillLen);\n    return IS_END ? S + stringFiller : stringFiller + S;\n  };\n};\n\nmodule.exports = {\n  // `String.prototype.padStart` method\n  // https://tc39.es/ecma262/#sec-string.prototype.padstart\n  start: createMethod(false),\n  // `String.prototype.padEnd` method\n  // https://tc39.es/ecma262/#sec-string.prototype.padend\n  end: createMethod(true)\n};\n","'use strict';\nvar toIntegerOrInfinity = require('../internals/to-integer-or-infinity');\nvar toString = require('../internals/to-string');\nvar requireObjectCoercible = require('../internals/require-object-coercible');\n\nvar $RangeError = RangeError;\n\n// `String.prototype.repeat` method implementation\n// https://tc39.es/ecma262/#sec-string.prototype.repeat\nmodule.exports = function repeat(count) {\n  var str = toString(requireObjectCoercible(this));\n  var result = '';\n  var n = toIntegerOrInfinity(count);\n  if (n < 0 || n === Infinity) throw new $RangeError('Wrong number of repetitions');\n  for (;n > 0; (n >>>= 1) && (str += str)) if (n & 1) result += str;\n  return result;\n};\n","'use strict';\nvar $ = require('../internals/export');\nvar fails = require('../internals/fails');\nvar isArray = require('../internals/is-array');\nvar isObject = require('../internals/is-object');\nvar toObject = require('../internals/to-object');\nvar lengthOfArrayLike = require('../internals/length-of-array-like');\nvar doesNotExceedSafeInteger = require('../internals/does-not-exceed-safe-integer');\nvar createProperty = require('../internals/create-property');\nvar arraySpeciesCreate = require('../internals/array-species-create');\nvar arrayMethodHasSpeciesSupport = require('../internals/array-method-has-species-support');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\nvar V8_VERSION = require('../internals/environment-v8-version');\n\nvar IS_CONCAT_SPREADABLE = wellKnownSymbol('isConcatSpreadable');\n\n// We can't use this feature detection in V8 since it causes\n// deoptimization and serious performance degradation\n// https://github.com/zloirock/core-js/issues/679\nvar IS_CONCAT_SPREADABLE_SUPPORT = V8_VERSION >= 51 || !fails(function () {\n  var array = [];\n  array[IS_CONCAT_SPREADABLE] = false;\n  return array.concat()[0] !== array;\n});\n\nvar isConcatSpreadable = function (O) {\n  if (!isObject(O)) return false;\n  var spreadable = O[IS_CONCAT_SPREADABLE];\n  return spreadable !== undefined ? !!spreadable : isArray(O);\n};\n\nvar FORCED = !IS_CONCAT_SPREADABLE_SUPPORT || !arrayMethodHasSpeciesSupport('concat');\n\n// `Array.prototype.concat` method\n// https://tc39.es/ecma262/#sec-array.prototype.concat\n// with adding support of @@isConcatSpreadable and @@species\n$({ target: 'Array', proto: true, arity: 1, forced: FORCED }, {\n  // eslint-disable-next-line no-unused-vars -- required for `.length`\n  concat: function concat(arg) {\n    var O = toObject(this);\n    var A = arraySpeciesCreate(O, 0);\n    var n = 0;\n    var i, k, length, len, E;\n    for (i = -1, length = arguments.length; i < length; i++) {\n      E = i === -1 ? O : arguments[i];\n      if (isConcatSpreadable(E)) {\n        len = lengthOfArrayLike(E);\n        doesNotExceedSafeInteger(n + len);\n        for (k = 0; k < len; k++, n++) if (k in E) createProperty(A, n, E[k]);\n      } else {\n        doesNotExceedSafeInteger(n + 1);\n        createProperty(A, n++, E);\n      }\n    }\n    A.length = n;\n    return A;\n  }\n});\n","'use strict';\nvar $ = require('../internals/export');\nvar isArray = require('../internals/is-array');\n\n// `Array.isArray` method\n// https://tc39.es/ecma262/#sec-array.isarray\n$({ target: 'Array', stat: true }, {\n  isArray: isArray\n});\n","'use strict';\n// TODO: Remove from `core-js@4`\nvar uncurryThis = require('../internals/function-uncurry-this');\nvar defineBuiltIn = require('../internals/define-built-in');\n\nvar DatePrototype = Date.prototype;\nvar INVALID_DATE = 'Invalid Date';\nvar TO_STRING = 'toString';\nvar nativeDateToString = uncurryThis(DatePrototype[TO_STRING]);\nvar thisTimeValue = uncurryThis(DatePrototype.getTime);\n\n// `Date.prototype.toString` method\n// https://tc39.es/ecma262/#sec-date.prototype.tostring\nif (String(new Date(NaN)) !== INVALID_DATE) {\n  defineBuiltIn(DatePrototype, TO_STRING, function toString() {\n    var value = thisTimeValue(this);\n    // eslint-disable-next-line no-self-compare -- NaN check\n    return value === value ? nativeDateToString(this) : INVALID_DATE;\n  });\n}\n","'use strict';\nvar $ = require('../internals/export');\nvar $padStart = require('../internals/string-pad').start;\nvar WEBKIT_BUG = require('../internals/string-pad-webkit-bug');\n\n// `String.prototype.padStart` method\n// https://tc39.es/ecma262/#sec-string.prototype.padstart\n$({ target: 'String', proto: true, forced: WEBKIT_BUG }, {\n  padStart: function padStart(maxLength /* , fillString = ' ' */) {\n    return $padStart(this, maxLength, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n"],"names":["render","_vm","this","_c","_self","staticClass","_v","_s","total","attrs","directives","name","rawName","value","loading","expression","staticStyle","records","background","color","fontWeight","tableRowClassName","scopedSlots","_u","key","fn","scope","row","doctorName","getDepartmentTagType","departmentName","formatDate","appointmentDate","getTimeSlotLabel","timeSlot","description","getStatusType","status","getStatusLabel","canCancel","on","$event","handleCancel","_e","currentPage","handleCurrentChange","staticRenderFns","data","timeSlots","created","getRecords","methods","_ref","dept","typeMap","_this","_asyncToGenerator","_regeneratorRuntime","mark","_callee","userInfo","response","_response$data","wrap","_context","prev","next","JSON","parse","localStorage","getItem","console","log","id","$message","error","$router","push","abrupt","$http","get","concat","sent","code","Array","isArray","length","message","t0","finish","stop","date","d","Date","getFullYear","String","getMonth","padStart","getDate","types","labels","record","page","_this2","_callee2","_response$data2","_context2","$confirm","confirmButtonText","cancelButtonText","type","put","success","component","userAgent","module","exports","test","uncurryThis","toLength","toString","$repeat","requireObjectCoercible","repeat","stringSlice","slice","ceil","Math","createMethod","IS_END","$this","maxLength","fillString","fillLen","stringFiller","S","intMaxLength","stringLength","fillStr","undefined","start","end","toIntegerOrInfinity","$RangeError","RangeError","count","str","result","n","Infinity","$","fails","isObject","toObject","lengthOfArrayLike","doesNotExceedSafeInteger","createProperty","arraySpeciesCreate","arrayMethodHasSpeciesSupport","wellKnownSymbol","V8_VERSION","IS_CONCAT_SPREADABLE","IS_CONCAT_SPREADABLE_SUPPORT","array","isConcatSpreadable","O","spreadable","FORCED","target","proto","arity","forced","arg","i","k","len","E","A","arguments","stat","defineBuiltIn","DatePrototype","prototype","INVALID_DATE","TO_STRING","nativeDateToString","thisTimeValue","getTime","NaN","$padStart","WEBKIT_BUG"],"sourceRoot":""}