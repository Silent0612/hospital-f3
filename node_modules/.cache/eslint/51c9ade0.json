[{"D:\\hospital-master2\\hospital-web\\src\\main.js":"1","D:\\hospital-master2\\hospital-web\\src\\App.vue":"2","D:\\hospital-master2\\hospital-web\\src\\router\\index.js":"3","D:\\hospital-master2\\hospital-web\\src\\store\\index.js":"4","D:\\hospital-master2\\hospital-web\\src\\views\\Records.vue":"5","D:\\hospital-master2\\hospital-web\\src\\views\\Home.vue":"6","D:\\hospital-master2\\hospital-web\\src\\views\\Doctors.vue":"7","D:\\hospital-master2\\hospital-web\\src\\views\\Departments.vue":"8","D:\\hospital-master2\\hospital-web\\src\\views\\Appointment.vue":"9","D:\\hospital-master2\\hospital-web\\src\\views\\Login.vue":"10","D:\\hospital-master2\\hospital-web\\src\\views\\Register.vue":"11"},{"size":1176,"mtime":1735120598000,"results":"12","hashOfConfig":"13"},{"size":1924,"mtime":1735304797696,"results":"14","hashOfConfig":"13"},{"size":1706,"mtime":1735192458000,"results":"15","hashOfConfig":"13"},{"size":1071,"mtime":1734797380000,"results":"16","hashOfConfig":"13"},{"size":9522,"mtime":1735305752545,"results":"17","hashOfConfig":"13"},{"size":3766,"mtime":1735304797696,"results":"18","hashOfConfig":"13"},{"size":4037,"mtime":1735192458000,"results":"19","hashOfConfig":"13"},{"size":6246,"mtime":1735305607380,"results":"20","hashOfConfig":"13"},{"size":10785,"mtime":1735304833979,"results":"21","hashOfConfig":"13"},{"size":5180,"mtime":1735304797696,"results":"22","hashOfConfig":"13"},{"size":4784,"mtime":1735120026000,"results":"23","hashOfConfig":"13"},{"filePath":"24","messages":"25","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"lmky4n",{"filePath":"26","messages":"27","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"28","messages":"29","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"30","messages":"31","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"32","messages":"33","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"34","messages":"35","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"36","messages":"37","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"38","messages":"39","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"40","messages":"41","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"42","messages":"43","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"44","messages":"45","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"46"},"D:\\hospital-master2\\hospital-web\\src\\main.js",[],"D:\\hospital-master2\\hospital-web\\src\\App.vue",[],"D:\\hospital-master2\\hospital-web\\src\\router\\index.js",[],"D:\\hospital-master2\\hospital-web\\src\\store\\index.js",[],"D:\\hospital-master2\\hospital-web\\src\\views\\Records.vue",[],"D:\\hospital-master2\\hospital-web\\src\\views\\Home.vue",[],"D:\\hospital-master2\\hospital-web\\src\\views\\Doctors.vue",[],"D:\\hospital-master2\\hospital-web\\src\\views\\Departments.vue",[],"D:\\hospital-master2\\hospital-web\\src\\views\\Appointment.vue",[],"D:\\hospital-master2\\hospital-web\\src\\views\\Login.vue",[],"D:\\hospital-master2\\hospital-web\\src\\views\\Register.vue",["47"],"<template>\r\n  <div class=\"register-container\">\r\n    <el-card class=\"register-card\">\r\n      <div class=\"title\">用户注册</div>\r\n      <el-form :model=\"form\" :rules=\"rules\" ref=\"registerForm\" label-width=\"80px\">\r\n        <el-form-item label=\"姓名\" prop=\"username\">\r\n          <el-input v-model=\"form.username\" placeholder=\"请输入姓名\"></el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"手机号\" prop=\"phone\">\r\n          <el-input v-model=\"form.phone\" placeholder=\"请输入手机号\"></el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"密码\" prop=\"password\">\r\n          <el-input type=\"password\" v-model=\"form.password\" placeholder=\"请输入密码\" show-password></el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"确认密码\" prop=\"confirmPassword\">\r\n          <el-input type=\"password\" v-model=\"form.confirmPassword\" placeholder=\"请再次输入密码\" show-password></el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"性别\" prop=\"gender\">\r\n          <el-radio-group v-model=\"form.gender\">\r\n            <el-radio label=\"1\">男</el-radio>\r\n            <el-radio label=\"0\">女</el-radio>\r\n          </el-radio-group>\r\n        </el-form-item>\r\n        <el-form-item label=\"出生日期\" prop=\"birthday\">\r\n          <el-date-picker v-model=\"form.birthday\" type=\"date\" placeholder=\"选择日期\"></el-date-picker>\r\n        </el-form-item>\r\n        <el-form-item>\r\n          <el-button type=\"primary\" class=\"register-button\" @click=\"handleRegister\">注册</el-button>\r\n          <el-button class=\"login-button\" @click=\"$router.push('/login')\">返回登录</el-button>\r\n        </el-form-item>\r\n      </el-form>\r\n    </el-card>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  data() {\r\n    // 密码确认验证\r\n    const validateConfirmPassword = (rule, value, callback) => {\r\n      if (value !== this.form.password) {\r\n        callback(new Error('两次输入的密码不一致'))\r\n      } else {\r\n        callback()\r\n      }\r\n    }\r\n    return {\r\n      form: {\r\n        username: '',\r\n        phone: '',\r\n        password: '',\r\n        confirmPassword: '',\r\n        gender: '1',\r\n        birthday: ''\r\n      },\r\n      rules: {\r\n        username: [\r\n          { required: true, message: '请输入姓名', trigger: 'blur' },\r\n          { min: 2, max: 20, message: '长度在 2 到 20 个字符', trigger: 'blur' }\r\n        ],\r\n        phone: [\r\n          { required: true, message: '请输入手机号', trigger: 'blur' },\r\n          { pattern: /^1[3-9]\\d{9}$/, message: '请输入正确的手机号', trigger: 'blur' }\r\n        ],\r\n        password: [\r\n          { required: true, message: '请输入密码', trigger: 'blur' },\r\n          { min: 6, message: '密码长度不能小于6位', trigger: 'blur' }\r\n        ],\r\n        confirmPassword: [\r\n          { required: true, message: '请再次输入密码', trigger: 'blur' },\r\n          { validator: validateConfirmPassword, trigger: 'blur' }\r\n        ],\r\n        gender: [\r\n          { required: true, message: '请选择性别', trigger: 'change' }\r\n        ],\r\n        birthday: [\r\n          { required: true, message: '请选择出生日期', trigger: 'change' }\r\n        ]\r\n      }\r\n    }\r\n  },\r\n  methods: {\r\n    handleRegister() {\r\n      this.$refs.registerForm.validate(async valid => {\r\n        if (valid) {\r\n          try {\r\n            const { confirmPassword, ...registerData } = this.form\r\n            // 转换日期格式\r\n            const formattedData = {\r\n              ...registerData,\r\n              birthday: registerData.birthday ? new Date(registerData.birthday).toISOString().split('T')[0] : null\r\n            }\r\n            console.log('发送注册请求:', formattedData)\r\n            const { data } = await this.$http.post('/api/patient/register', formattedData)\r\n            console.log('注册响应:', data)\r\n            if (data.code === 200) {\r\n              this.$message.success('注册成功')\r\n              this.$router.push('/login')\r\n            } else {\r\n              this.$message.error(data.message || '注册失败')\r\n            }\r\n          } catch (error) {\r\n            console.error('注册错误:', error)\r\n            this.$message.error(error.response?.data?.message || '注册失败，请稍后重试')\r\n          }\r\n        }\r\n      })\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.register-container {\r\n  height: 100%;\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  background: #f0f2f5;\r\n}\r\n\r\n.register-card {\r\n  width: 500px;\r\n}\r\n\r\n.title {\r\n  text-align: center;\r\n  font-size: 24px;\r\n  font-weight: bold;\r\n  margin-bottom: 30px;\r\n  color: #409EFF;\r\n}\r\n\r\n.register-button {\r\n  width: 45%;\r\n}\r\n\r\n.login-button {\r\n  width: 45%;\r\n  margin-left: 10%;\r\n}\r\n</style>\r\n",{"ruleId":"48","severity":1,"message":"49","line":87,"column":21,"nodeType":"50","messageId":"51","endLine":87,"endColumn":36},"no-unused-vars","'confirmPassword' is assigned a value but never used.","Identifier","unusedVar"]